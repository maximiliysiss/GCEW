@{
    ViewData["Title"] = "Home Page";
    var templatesSite = SiteTemplate<TemplateSite>.Instance();
}


<style>

    .context-menu-container {
        display: block;
    }

    line {
        background-image: url("~/images/arrows.png");
        background-repeat: repeat;
    }

    .st0 {
    }

    line:hover {
        cursor: pointer;
    }
</style>
<div class="window">
    <div class="menu">
        @Html.Raw(Html.MenuContainerHtml())
    </div>


    @Html.Raw(Html.GenerateContextMenus())

    <div class="window-in">
        <div class="solution-view">
            <partial name="~/Views/SitePartical/Leftpanel.cshtml" />
        </div>
        <div class="second-column">
            <partial name="~/Views/SitePartical/Workspace.cshtml" />
        </div>
    </div>
</div>

<script src="~/lib/jquery/dist/jquery.js"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="~/lib/jquery-ui-1.12.1.custom/jquery-ui.js"></script>
<script src="~/js/context-menu-custom.js"></script>
<script src="~/js/FlowchartsVisual.js"></script>
<script>


    $(function () {

        initFlowChartsOnPage($("#svgOne"));

        $('.dropdown-submenu a.test').on("click", function (e) {
            var visible = $(this).next("ul").is(":visible");
            $(this).parent().parent().find("li ul").each(function () { $(this).css("display", "none"); });
            if (!visible)
                $(this).next("ul").toggle();
            e.stopPropagation();
            e.preventDefault();
        });

    });

    $(function () {
        $(".dragElement").draggable({
            containment: "parent",
            drag: function () { reDrawScheme($(this).attr("id")); }
        });

        $(".dragElement").click(function (event) {
            var res = eventForTargets(event);
            if (res)
                startDynamic(this);
        });
    });

    $(".menu-handler").contextmenu(function (event) {
        var cursor = [event.pageX, event.pageY];
        $(".context-menu-container").each(function () { $(this).css("display", "none"); });
        var contextMenu = $("#" + $(this).attr("menu"));
        if (contextMenu === null)
            return;
        contextMenu.css("display", "block");
        contextMenu.children(function () { $(this).css("display", "block"); });
        contextMenu.css("left", cursor[0]);
        contextMenu.css("top", cursor[1]);
    });


    function deleteElement(event) {
        removeElementWithChains(contextMenuTarget);
        $(contextMenuTarget).remove();
    }

</script>
